#:kivy 1.8.0

DarkBunnyGame:

<DarkBunnyGame>:
	gameworld: gameworld
	pos: root.pos
	size: root.size
	canvas:
		Color:
			rgb: (1., 1., 1.)
		Rectangle:
			size: self.size
			pos: self.pos
	GameWorld:
		id: gameworld
		gamescreenmanager: gamescreenmanager
		hawk_ai_system: hawk_ai_system
		boundary_system: boundary_system
		GameView:
			focus_entity: False
			updateable: False
			gameworld: root.gameworld
			pos: root.pos
			size: root.size
		GameMap:
			system_id: 'map'
			map_size: root.size
			gameworld: root.gameworld
		CymunkPhysics:
			gameworld: root.gameworld
			damping: .9
		PhysicsRenderer:
			gameworld: root.gameworld
			system_id: 'shadow_renderer'
		PhysicsRenderer:
			gameworld: root.gameworld
			system_id: 'physics_renderer2'
		PhysicsRenderer:
			gameworld: root.gameworld
	    BoundarySystem:
	        id: boundary_system
	        system_id: 'boundary_system'
	        gameworld: root.gameworld
	        size: root.size
		PhysicsRenderer:
			gameworld: root.gameworld
			system_id: 'tree_physics_renderer'
		PhysicsRenderer:
	        gameworld: root.gameworld
	        system_id: 'hawk_physics_renderer'
	    HawkAISystem:
	        id: hawk_ai_system
			system_id: 'hawk_ai_system'
			gameworld: root.gameworld
			update_time: 1./30.
		RabbitSystem:
			gameworld: root.gameworld
			updateable: True
			update_time: 1./30.
		EnvironmentSystem:
		    gameworld: root.gameworld
		AnimationSystem:
			gameworld: root.gameworld
			updateable: True
		LevelsSystem:
		    gameworld: root.gameworld
		GameScreenManager:
			id: gamescreenmanager
			size: root.size
			pos: root.pos
			gameworld: root.gameworld


<GameScreenManager>:
	MainScreen:
		id: main_screen
	
<MainScreen@GameScreen>:
	name: 'main'
	FloatLayout:
		BoxLayout:
			size_hint: (.2, .1)
			pos_hint: {'x': .4, 'y': .1}
			orientation: 'vertical'
			DebugPanel:

<DebugPanel>:
    Label:
        pos: root.pos
        size: root.size
        halign: 'center'
        valign: 'middle'
        color: (0., 0., 0., 1.)
        text: 'FPS: ' + root.fps if root.fps != None else 'FPS:'